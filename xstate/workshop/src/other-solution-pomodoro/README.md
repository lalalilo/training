Way more complicated than sub state solution, also the "can" method of button doesn't work well for the submachine and they are not update correctly on pause.
Keep it here for reference if you try to make submachines
